{"ast":null,"code":"import _slicedToArray from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/alex/ubunta/gt-desk/Desktop-GT/src/components/RegFiz.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport person from '../images/person.png';\nimport { connect } from 'react-redux';\nimport { counterButton_create } from \"../redux/countersAC\";\nimport Logo from './logo/Logo';\nimport '../css/regFiz.css';\n\nvar RegFiz =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RegFiz, _Component);\n\n  function RegFiz() {\n    var _this;\n\n    _classCallCheck(this, RegFiz);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RegFiz).call(this));\n    _this.state = {\n      imgPerson: person,\n      nameImgLoad: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(RegFiz, [{\n    key: \"imgPersonLoad\",\n    value: function imgPersonLoad(e) {\n      var imgLoad = e.currentTarget.value; // localStorage.setItem(\"imgLoad\", imgLoad);\n\n      this.setState({\n        nameImgLoad: \"Загружаеммая фотография   \" + imgLoad\n      });\n    }\n  }, {\n    key: \"nextPage\",\n    value: function nextPage(e) {\n      e.preventDefault();\n      var that = this;\n      var url = 'http://178.159.45.189/api/rest-auth/user/client/private/';\n      var formElem = document.getElementById('regFiz');\n      var formData = new FormData(formElem);\n      var user = {};\n      var address = {};\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = formData.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _ref = _step.value;\n\n          var _ref2 = _slicedToArray(_ref, 2);\n\n          var key = _ref2[0];\n          var value = _ref2[1];\n\n          if (key == 'city' || key == 'street' || key == 'house' || key == 'housing' || key == 'office') {\n            address[key] = value;\n          } else {\n            user[key] = value;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      user.address = address; // var user = {\n      //     // email: that.props.abc.user.email,\n      //     // phone: that.props.abc.user.phone,\n      //     // first_name: \"ВАСЯ\",\n      //     // last_name: \"ВАСЯ\",\n      //     // patronymic: \"ВАСЯ\",\n      //     // birth_date: \"ВАСЯ\",\n      //     // person_id:\"ВАСЯ\",\n      //     // address: \"ВАСЯ\",\n      //     // image:\n      //     // personal_id: that.props.abc.user.id\n      // }\n      // var address = {\n      //     // city: <str>,\n      //     // street: <srt>,\n      //     // house: <str>,\n      //     // housing: <str>,\n      //     // office: <str>,\n      //     // description: <str>,\n      // }\n\n      fetch(url, {\n        method: \"PATCH\",\n        headers: {\n          \"Authorization\": 'JWT ' + that.props.store.user.token,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n      }).then(function (response) {\n        if (response.status !== 200) {\n          console.log('Looks like there was a problem. Status Code: ' + response.status);\n        }\n\n        return response.json();\n      }).then(function (data) {\n        that.props.dispatch(counterButton_create(data));\n        console.log(\"DATA: \", data);\n        that.props.history.push(\"/authorization\"); // Переход на страницы админ/пользователь  \n      }).catch(function (err) {\n        console.log('Fetch Error :-S', err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Logo, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: {\n          pathname: '/authorization'\n        },\n        className: \"regFiz_Link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"\\u0417\\u0430\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u044C \\u043F\\u043E\\u0437\\u0436\\u0435\"), React.createElement(\"form\", {\n        className: \"divColumn\",\n        onSubmit: this.nextPage.bind(this),\n        id: \"main_form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"divRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"divColumn_50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"div-col-my\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"cross\",\n        htmlFor: \"image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        id: \"image\",\n        style: {\n          display: \"none\"\n        },\n        onChange: this.imgPersonLoad.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        src: this.state.imgPerson,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, this.state.nameImgLoad)), React.createElement(\"div\", {\n        className: \"button-bigi-my\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"birth_date\",\n        required: true,\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0434\\u0430\\u0442\\u0443 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F\",\n        className: \"regFiz_divInput\",\n        type: \"date\",\n        id: \"datepicker\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"divColumn_50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"\\u041B\\u0438\\u0447\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"), React.createElement(\"input\", {\n        name: \"last_name\",\n        pattern: \"[\\u0410-\\u042F\\u0430-\\u044F/-]{2,40}\",\n        title: \"\\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u0440\\u0443\\u0441\\u0441\\u043A\\u0438\\u0435 \\u0431\\u0443\\u043A\\u0432\\u044B\",\n        className: \"regFiz_divInput \",\n        type: \"text\",\n        placeholder: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"divRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"first_name\",\n        className: \"regFiz_divInput\",\n        pattern: \"[\\u0410-\\u042F\\u0430-\\u044F/-]{2,40}\",\n        title: \"\\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u0440\\u0443\\u0441\\u0441\\u043A\\u0438\\u0435 \\u0431\\u0443\\u043A\\u0432\\u044B\",\n        type: \"text\",\n        placeholder: \"\\u0418\\u043C\\u044F\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"patronymic\",\n        className: \"regFiz_divInput\",\n        type: \"text\",\n        pattern: \"[\\u0410-\\u042F\\u0430-\\u044F/-]{2,40}\",\n        title: \"\\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u0440\\u0443\\u0441\\u0441\\u043A\\u0438\\u0435 \\u0431\\u0443\\u043A\\u0432\\u044B\",\n        placeholder: \"\\u041E\\u0442\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        name: \"person_id\",\n        className: \"regFiz_divInput\",\n        type: \"text\",\n        placeholder: \"\\u041B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }))), React.createElement(\"span\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"\\u0410\\u0434\\u0440\\u0435\\u0441 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438\"), React.createElement(\"div\", {\n        className: \"divRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"divColumn_50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"city\",\n        required: true,\n        className: \"regFiz_divInput\",\n        type: \"text\",\n        pattern: \"[\\u0410-\\u042F\\u0430-\\u044F/-]{2,40}\",\n        title: \"\\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u0440\\u0443\\u0441\\u0441\\u043A\\u0438\\u0435 \\u0431\\u0443\\u043A\\u0432\\u044B\",\n        placeholder: \"\\u041D\\u0430\\u0441\\u0435\\u043B\\u0435\\u043D\\u043D\\u044B\\u0439 \\u043F\\u0443\\u043D\\u043A\\u0442\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"street\",\n        required: true,\n        className: \"regFiz_divInput\",\n        type: \"text\",\n        placeholder: \"\\u0423\\u043B\\u0438\\u0446\\u0430\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"divColumn_50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"divRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"house\",\n        required: true,\n        className: \"regFiz_divInput\",\n        type: \"text\",\n        placeholder: \"\\u0414\\u043E\\u043C\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"housing\",\n        className: \"regFiz_divInput\",\n        type: \"text\",\n        placeholder: \"\\u041A\\u043E\\u0440\\u043F\\u0443\\u0441\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        name: \"office\",\n        className: \"regFiz_divInput\",\n        type: \"text\",\n        placeholder: \"*\\u041A\\u0432\\u0430\\u0440\\u0442\\u0438\\u0440\\u0430 / \\u041F\\u043E\\u043C\\u0435\\u0449\\u0435\\u043D\\u0438\\u0435 \",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      })))), React.createElement(\"span\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"colorOrange\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"*\"), \" \\u0412 \\u0441\\u043B\\u0443\\u0447\\u0430\\u0435 \\u043F\\u0440\\u043E\\u0436\\u0438\\u0432\\u0430\\u043D\\u0438\\u044F \\u0432 \\u0438\\u043D\\u0434\\u0438\\u0432\\u0438\\u0434\\u0443\\u0430\\u043B\\u044C\\u043D\\u043E\\u043C \\u0436\\u0438\\u043B\\u043E\\u043C \\u0434\\u043E\\u043C\\u0435\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), \" \\u043F\\u043E\\u043B\\u0435 \\u0437\\u0430\\u043F\\u043E\\u043B\\u043D\\u044F\\u0442\\u044C \\u043D\\u0435 \\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\"), React.createElement(\"button\", {\n        type: \"submit\",\n        form: \"main_form\",\n        className: \"regFiz_button \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u044C\"));\n    }\n  }]);\n\n  return RegFiz;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    // из раздела Redux с именем counter свойство cnt будет доступно\n    // данному компоненту как this.props.cnt\n    store: state.store\n  };\n};\n\nexport default connect(mapStateToProps)(RegFiz);","map":{"version":3,"sources":["/home/alex/ubunta/gt-desk/Desktop-GT/src/components/RegFiz.jsx"],"names":["React","Component","Link","person","connect","counterButton_create","Logo","RegFiz","state","imgPerson","nameImgLoad","e","imgLoad","currentTarget","value","setState","preventDefault","that","url","formElem","document","getElementById","formData","FormData","user","address","entries","key","fetch","method","headers","props","store","token","body","JSON","stringify","then","response","status","console","log","json","data","dispatch","history","push","catch","err","pathname","nextPage","bind","display","imgPersonLoad","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport person from '../images/person.png'\nimport { connect } from 'react-redux';\nimport { counterButton_create } from \"../redux/countersAC\";\nimport Logo from './logo/Logo'\nimport '../css/regFiz.css'\n\nclass RegFiz extends Component {\n    constructor() {\n        super()\n        this.state = {\n            imgPerson: person,\n            nameImgLoad: \"\",\n        }\n    }\n    imgPersonLoad(e) {\n        let imgLoad = e.currentTarget.value;\n        // localStorage.setItem(\"imgLoad\", imgLoad);\n        this.setState({ nameImgLoad: \"Загружаеммая фотография   \" + imgLoad });\n    }\n    nextPage(e) {\n        e.preventDefault();\n        var that = this\n        var url = 'http://178.159.45.189/api/rest-auth/user/client/private/'\n        var formElem = document.getElementById('regFiz')\n        var formData = new FormData(formElem)\n        var user = {}\n        var address = {}\n        for (var [key, value] of formData.entries()) {\n            if (key == 'city' || key == 'street' || key == 'house' || key == 'housing' || key == 'office') {\n                address[key] = value\n            } else {\n                user[key] = value\n            }\n        }\n        user.address = address\n\n        // var user = {\n        //     // email: that.props.abc.user.email,\n        //     // phone: that.props.abc.user.phone,\n        //     // first_name: \"ВАСЯ\",\n        //     // last_name: \"ВАСЯ\",\n        //     // patronymic: \"ВАСЯ\",\n        //     // birth_date: \"ВАСЯ\",\n        //     // person_id:\"ВАСЯ\",\n        //     // address: \"ВАСЯ\",\n        //     // image:\n        //     // personal_id: that.props.abc.user.id\n        // }\n\n        // var address = {\n        //     // city: <str>,\n        //     // street: <srt>,\n        //     // house: <str>,\n        //     // housing: <str>,\n        //     // office: <str>,\n        //     // description: <str>,\n        // }\n\n\n        fetch(url, {\n            method: \"PATCH\",\n            headers: {\n                \"Authorization\": 'JWT ' + that.props.store.user.token,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(user),\n        }).then(\n            function (response) {\n                if (response.status !== 200) {\n                    console.log('Looks like there was a problem. Status Code: ' +\n                        response.status);\n                }\n                return response.json();\n            })\n            .then(function (data) {\n                that.props.dispatch(counterButton_create(data));\n                console.log(\"DATA: \", data);\n\n                that.props.history.push(\"/authorization\")// Переход на страницы админ/пользователь  \n            })\n            .catch(function (err) {\n                console.log('Fetch Error :-S', err);\n            });\n\n\n\n\n\n    }\n\n    render() {\n        return (\n            <div className=\"wrapper\">\n                <Logo />\n                <Link to={{ pathname: '/authorization' }} className=\"regFiz_Link\">Заполнить позже</Link>\n                <form className=\"divColumn\" onSubmit={this.nextPage.bind(this)} id=\"main_form\">\n                    <div className=\"divRow\" >\n                        <div className=\"divColumn_50\">\n                            <div className=\"div-col-my\">\n                                <label className=\"cross\" htmlFor=\"image\">\n                                    <input type=\"file\" id=\"image\" style={{ display: \"none\" }} onChange={this.imgPersonLoad.bind(this)} />\n                                    <img src={this.state.imgPerson} alt=\"\" />\n                                </label>\n                                <label>{this.state.nameImgLoad}</label>\n                            </div>\n                            <div className=\"button-bigi-my\">\n                                <input name=\"birth_date\"\n                                    required placeholder=\"Введите дату рождения\" className=\"regFiz_divInput\" type=\"date\" id=\"datepicker\" />\n                            </div>\n                        </div>\n                        <div className=\"divColumn_50\">\n                            <span className=\"title\" >Личные данные</span>\n                            <input name=\"last_name\"\n                                pattern=\"[А-Яа-я/-]{2,40}\" title=\"только русские буквы\"\n                                className=\"regFiz_divInput \" type=\"text\"\n                                placeholder=\"Фамилия\" required />\n                            <div className=\"divRow\">\n                                <input name=\"first_name\"\n                                    className=\"regFiz_divInput\" pattern=\"[А-Яа-я/-]{2,40}\"\n                                    title=\"только русские буквы\"\n                                    type=\"text\" placeholder=\"Имя\" required />\n                                <input name=\"patronymic\"\n                                    className=\"regFiz_divInput\" type=\"text\" pattern=\"[А-Яа-я/-]{2,40}\"\n                                    title=\"только русские буквы\"\n                                    placeholder=\"Отчество\" required />\n                            </div>\n                            <input name=\"person_id\"\n                                className=\"regFiz_divInput\" type=\"text\"\n                                placeholder=\"Личный номер\" required />\n                        </div>\n                    </div>\n                    <span className='title' >Адрес регистрации</span>\n                    <div className=\"divRow\">\n                        <div className=\"divColumn_50\">\n                            <input name=\"city\"\n                                required className=\"regFiz_divInput\" type=\"text\"\n                                pattern=\"[А-Яа-я/-]{2,40}\" title=\"только русские буквы\"\n                                placeholder=\"Населенный пункт\" />\n                            <input name=\"street\"\n                                required className=\"regFiz_divInput\" type=\"text\"\n                                placeholder=\"Улица\" />\n                        </div>\n                        <div className=\"divColumn_50\">\n                            <div className=\"divRow\">\n                                <input name=\"house\"\n                                    required className=\"regFiz_divInput\" type=\"text\" placeholder=\"Дом\" />\n                                <input name=\"housing\"\n                                    className=\"regFiz_divInput\" type=\"text\" placeholder=\"Корпус\" />\n                            </div>\n                            <input name=\"office\"\n                                className=\"regFiz_divInput\" type=\"text\"\n                                placeholder=\"*Квартира / Помещение \" required />\n                        </div>\n                    </div>\n                </form>\n                <span className=\"title\"><span className=\"colorOrange\">*</span> В случае проживания в индивидуальном жилом доме\n                                <br /> поле заполнять не обязательно</span>\n                <button type=\"submit\" form=\"main_form\" className='regFiz_button '>Подтвердить</button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = function (state) {\n    return {\n        // из раздела Redux с именем counter свойство cnt будет доступно\n        // данному компоненту как this.props.cnt\n        store: state.store,\n    };\n};\n\nexport default connect(mapStateToProps)(RegFiz);"]},"metadata":{},"sourceType":"module"}