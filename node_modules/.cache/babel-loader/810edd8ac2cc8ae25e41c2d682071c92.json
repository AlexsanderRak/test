{"ast":null,"code":"import _slicedToArray from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/alex/ubunta/gt-desk/Desktop-GT/src/components/RegJyr.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { counterButton_create } from \"../redux/countersAC\";\nimport Logo from './logo/Logo';\nimport '../css/regJyr.css'; //TODO Доделать\n\nvar RegJyr =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RegJyr, _Component);\n\n  function RegJyr() {\n    _classCallCheck(this, RegJyr);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(RegJyr).apply(this, arguments));\n  }\n\n  _createClass(RegJyr, [{\n    key: \"nextPage\",\n    value: function nextPage(e) {\n      e.preventDefault();\n      var that = this;\n      var url = 'http://178.159.45.189/api/rest-auth/user/dispatcher/';\n      var formElem = document.getElementById('regJyr');\n      var formData = new FormData(formElem);\n      var name = {};\n      var user = this.props.store.user;\n      user.name = name;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = formData.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _ref = _step.value;\n\n          var _ref2 = _slicedToArray(_ref, 2);\n\n          var key = _ref2[0];\n          var value = _ref2[1];\n          user[key] = value;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      for (var _key in user) {\n        if (_key == 'tax') {\n          delete user[_key];\n        }\n      }\n\n      console.log(user);\n      that.props.dispatch(counterButton_create(user));\n      that.props.props.history.push(\"regJyr2\"); // Переход на страницы regJyr2\n      // fetch(url, {\n      //     method: \"PATCH\",\n      //     headers: {\n      //         \"Authorization\": 'JWT ' + that.props.abc.token,\n      //         \"Content-Type\": \"application/json\"\n      //     },\n      //     body: new FormData(formElem),\n      // }).then(\n      //     function (response) {\n      //         if (response.status !== 201) {\n      //             console.log('Looks like there was a problem. Status Code: ' +\n      //                 response.status);\n      //         }\n      //         return response.json();\n      //     })\n      //     // Examine the text in the response  \n      //     .then(function (data) {\n      //         debugger\n      //         that.props.dispatch(counterButton_create(data));\n      //         let linkBtn = document.getElementById('disabledlink');\n      //         linkBtn.classList.remove('disabled-link');\n      //         linkBtn.click()\n      //         console.log(data);\n      //     })\n      //     .catch(function (err) {\n      //         console.log('Fetch Error :-S', err);\n      //     });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Logo, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"), React.createElement(\"form\", {\n        onSubmit: this.nextPage.bind(this),\n        id: \"regJyr\",\n        className: \"divColumn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"last_name\",\n        required: true,\n        className: \"globalInput regJyrInput\",\n        placeholder: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"first_name\",\n        placeholder: \"\\u0418\\u043C\\u044F\",\n        required: true,\n        className: \"globalInput regJyrInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"patronymic\",\n        placeholder: \"\\u041E\\u0442\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\",\n        required: true,\n        className: \"globalInput regJyrInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u044E\\u0440\\u0438\\u0434\\u0438\\u0447\\u0435\\u0441\\u043A\\u043E\\u0433\\u043E \\u043B\\u0438\\u0446\\u0430\"), React.createElement(\"input\", {\n        name: \"name\",\n        placeholder: \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u043D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\",\n        required: true,\n        className: \"globalInput regJyrInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"unp\",\n        placeholder: \"\\u0423\\u041D\\u041F\",\n        required: true,\n        className: \"globalInput regJyrInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"divRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430\\u0435\\u043C:\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        name: \"tax\",\n        id: \"without_tax\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"without_tax\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"\\u0431\\u0435\\u0437 \\u041D\\u0414\\u0421\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        name: \"tax\",\n        id: \"with_tax\",\n        checked: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"with_tax\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"\\u0441 \\u041D\\u0414\\u0421\")))), React.createElement(\"div\", {\n        className: \"divRow regJyrdivRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: {\n          pathname: 'regOne'\n        },\n        className: \"globalButton regJyrButton margin_30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"\\u041D\\u0430\\u0437\\u0430\\u0434\"), React.createElement(\"button\", {\n        className: \"globalButton regJyrButton\",\n        form: \"regJyr\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"\\u0414\\u0430\\u043B\\u0435\\u0435\")));\n    }\n  }]);\n\n  return RegJyr;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    // из раздела Redux с именем counter свойство cnt будет доступно\n    // данному компоненту как this.props.cnt\n    store: state.store,\n    drivers: state.store.drivers\n  };\n};\n\nexport default connect(mapStateToProps)(RegJyr);","map":{"version":3,"sources":["/home/alex/ubunta/gt-desk/Desktop-GT/src/components/RegJyr.jsx"],"names":["React","Component","Link","connect","counterButton_create","Logo","RegJyr","e","preventDefault","that","url","formElem","document","getElementById","formData","FormData","name","user","props","store","entries","key","value","console","log","dispatch","history","push","nextPage","bind","pathname","mapStateToProps","state","drivers"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { counterButton_create } from \"../redux/countersAC\";\nimport Logo from './logo/Logo'\n\nimport '../css/regJyr.css'\n\n//TODO Доделать\nclass RegJyr extends Component {\n\n    nextPage(e) {\n        e.preventDefault();\n        var that = this\n        var url = 'http://178.159.45.189/api/rest-auth/user/dispatcher/'\n        var formElem = document.getElementById('regJyr')\n        var formData = new FormData(formElem)\n        var name = {}\n        var user = this.props.store.user;\n        user.name = name;\n        for (var [key, value] of formData.entries()) {\n            user[key] = value;\n        }\n\n        for (let key in user) {\n            if (key == 'tax') {\n                delete user[key];\n            }\n        }\n\n        console.log(user);\n\n        that.props.dispatch(counterButton_create(user));\n\n\n        that.props.props.history.push(\"regJyr2\")// Переход на страницы regJyr2\n        // fetch(url, {\n        //     method: \"PATCH\",\n        //     headers: {\n        //         \"Authorization\": 'JWT ' + that.props.abc.token,\n        //         \"Content-Type\": \"application/json\"\n        //     },\n        //     body: new FormData(formElem),\n        // }).then(\n        //     function (response) {\n        //         if (response.status !== 201) {\n        //             console.log('Looks like there was a problem. Status Code: ' +\n        //                 response.status);\n        //         }\n        //         return response.json();\n        //     })\n        //     // Examine the text in the response  \n        //     .then(function (data) {\n        //         debugger\n        //         that.props.dispatch(counterButton_create(data));\n        //         let linkBtn = document.getElementById('disabledlink');\n        //         linkBtn.classList.remove('disabled-link');\n        //         linkBtn.click()\n        //         console.log(data);\n        //     })\n        //     .catch(function (err) {\n        //         console.log('Fetch Error :-S', err);\n        //     });\n\n    }\n\n    render() {\n        return (\n            <div className=\"wrapper\" >\n                <Logo />\n                <span className=\"title\">Регистрация</span>\n                <form onSubmit={this.nextPage.bind(this)} id=\"regJyr\" className=\"divColumn\">\n                    <input name=\"last_name\" required className=\"globalInput regJyrInput\"\n                        placeholder=\"Фамилия\" />\n                    <input name=\"first_name\" placeholder=\"Имя\" required className=\"globalInput regJyrInput\" />\n                    <input name=\"patronymic\" placeholder=\"Отчество\" required className=\"globalInput regJyrInput\" />\n                    <span className=\"title\">Данные юридического лица</span>\n                    <input name=\"name\" placeholder=\"Полное наименование\" required\n                        className=\"globalInput regJyrInput\" />\n                    <input name=\"unp\" placeholder=\"УНП\" required className=\"globalInput regJyrInput\" />\n                    <div className=\"divRow\">\n                        <span className=\"title\" >Работаем:</span>\n                        <div>\n                            <input type=\"radio\" name='tax' id=\"without_tax\" /><label htmlFor=\"without_tax\">без НДС</label>\n                        </div>\n                        <div>\n                            <input type=\"radio\" name='tax' id=\"with_tax\" checked /><label htmlFor=\"with_tax\">с НДС</label>\n                        </div>\n                    </div>\n                </form>\n                <div className=\"divRow regJyrdivRow\">\n                    <Link to={{ pathname: 'regOne' }} className=\"globalButton regJyrButton margin_30\" >Назад</Link>\n                    <button className=\"globalButton regJyrButton\" form=\"regJyr\" type=\"submit\">Далее</button>\n                </div>\n            </div>\n        )\n    }\n}\nconst mapStateToProps = function (state) {\n    return {\n        // из раздела Redux с именем counter свойство cnt будет доступно\n        // данному компоненту как this.props.cnt\n        store: state.store,\n        drivers: state.store.drivers,\n    };\n};\n\nexport default connect(mapStateToProps)(RegJyr);\n"]},"metadata":{},"sourceType":"module"}