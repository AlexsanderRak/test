{"ast":null,"code":"import _toConsumableArray from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { COUNTER_BUTTON_CREATE, PUSH_CATALOG, POP_UP, LEGAL_PRIVATE, DRIVERS_LIST, DRIVER_ADD_EDIT_FLAG, DELETE_DRIVER, TRANSPORT_LIST, ADD_DRIVER, PERSONAL_DATA } from './countersAC';\nvar initState = {\n  user: {},\n  popupID: {},\n  activePopupToShow: null,\n  activePopupId: 100,\n  // drivers должен быть массивом!!!\n  drivers: [],\n  driverAddOrEdit: null,\n  // не удалять! Хорошо не буду!\n  transports: [],\n  legalPrivate: null,\n  // true - Физ. лицо false - Юр.Лицо\n  legalOrPrivatePath: null // Путь для перехода после выбора Физ.Лицо и Юр.Лица\n\n};\n\nfunction countersReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case COUNTER_BUTTON_CREATE:\n      {\n        // надо создать новый счётчик\n        // редьюсер ВСЕГДА должен возвращаеть новый state а не изменять старый!\n        // console.log('action:',action);\n        // console.log('state до обработки редьюсером:',state);\n        // let newState={...state};\n        var newState = _objectSpread({}, state, {\n          user: action.counterid\n        }); // newState.cnt++;\n        // console.log('state после обработки редьюсером:',newState);\n\n\n        return newState;\n      }\n\n    case PUSH_CATALOG:\n      {\n        // надо создать новый счётчик\n        // редьюсер ВСЕГДА должен возвращаеть новый state а не изменять старый!\n        // console.log('action:',action);\n        // console.log('state до обработки редьюсером:',state);\n        // let newState={...state};\n        var _newState = _objectSpread({}, state, {\n          equipCatalog: action.data\n        }); // newState.cnt++;\n        // console.log('state после обработки редьюсером:',newState);\n\n\n        return _newState;\n      }\n\n    case POP_UP:\n      {\n        var _newState2 = _objectSpread({}, state, {\n          activePopupId: action.activePopupId\n        });\n\n        return _newState2;\n      }\n\n    case LEGAL_PRIVATE:\n      {\n        var _newState3 = _objectSpread({}, state, {\n          legalPrivate: action.legalPrivate,\n          legalOrPrivatePath: action.path\n        });\n\n        console.log(\"++\");\n        return _newState3;\n      }\n\n    case DRIVERS_LIST:\n      {\n        var _newState4 = _objectSpread({}, state, {\n          drivers: action.data\n        });\n\n        return _newState4;\n      }\n\n    case PERSONAL_DATA:\n      {\n        var _newState5 = _objectSpread({}, state, {\n          user: action.data\n        });\n\n        return _newState5;\n      }\n\n    case TRANSPORT_LIST:\n      {\n        var _newState6 = _objectSpread({}, state, {\n          transports: action.data\n        });\n\n        return _newState6;\n      }\n\n    case DRIVER_ADD_EDIT_FLAG:\n      {\n        var _newState7 = _objectSpread({}, state, {\n          driverAddOrEdit: action.flag\n        });\n\n        return _newState7;\n      }\n\n    case DELETE_DRIVER:\n      {\n        debugger;\n        console.log(action.data);\n        var index = state.drivers.findIndex(function (el) {\n          return el.id === action.data;\n        });\n        var before = state.drivers.slice(0, index);\n        var after = state.drivers.slice(index + 1);\n        var newArray = [].concat(_toConsumableArray(before), _toConsumableArray(after));\n\n        var _newState8 = _objectSpread({}, state, {\n          drivers: newArray\n        });\n\n        return _newState8;\n      }\n\n    case ADD_DRIVER:\n      {\n        debugger;\n        console.log(action.data);\n\n        var _newArray = [].concat(_toConsumableArray(state.drivers), [action.data]);\n\n        var _newState9 = _objectSpread({}, state, {\n          drivers: _newArray\n        });\n\n        return _newState9;\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default countersReducer;","map":{"version":3,"sources":["/home/alex/ubunta/gt-desk/Desktop-GT/src/redux/countersReducer.js"],"names":["COUNTER_BUTTON_CREATE","PUSH_CATALOG","POP_UP","LEGAL_PRIVATE","DRIVERS_LIST","DRIVER_ADD_EDIT_FLAG","DELETE_DRIVER","TRANSPORT_LIST","ADD_DRIVER","PERSONAL_DATA","initState","user","popupID","activePopupToShow","activePopupId","drivers","driverAddOrEdit","transports","legalPrivate","legalOrPrivatePath","countersReducer","state","action","type","newState","counterid","equipCatalog","data","path","console","log","flag","index","findIndex","el","id","before","slice","after","newArray"],"mappings":"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","sourcesContent":["import {\n  COUNTER_BUTTON_CREATE,\n  PUSH_CATALOG,\n  POP_UP,\n  LEGAL_PRIVATE,\n  DRIVERS_LIST,\n  DRIVER_ADD_EDIT_FLAG,\n  DELETE_DRIVER,\n  TRANSPORT_LIST,\n  ADD_DRIVER,\n  PERSONAL_DATA\n} from './countersAC';\n\n\nconst initState = {\n  user: {},\n  popupID: {},\n  activePopupToShow: null,\n  activePopupId: 100,\n\n  // drivers должен быть массивом!!!\n  drivers: [],\n  driverAddOrEdit: null, // не удалять! Хорошо не буду!\n  transports: [],\n  legalPrivate: null, // true - Физ. лицо false - Юр.Лицо\n  legalOrPrivatePath: null, // Путь для перехода после выбора Физ.Лицо и Юр.Лица\n\n}\n\nfunction countersReducer(state = initState, action) {\n  switch (action.type) {\n    case COUNTER_BUTTON_CREATE:\n      {\n        // надо создать новый счётчик\n        // редьюсер ВСЕГДА должен возвращаеть новый state а не изменять старый!\n        // console.log('action:',action);\n        // console.log('state до обработки редьюсером:',state);\n        // let newState={...state};\n        let newState = { ...state,\n          user: action.counterid\n        };\n        // newState.cnt++;\n        // console.log('state после обработки редьюсером:',newState);\n        return newState;\n      }\n    case PUSH_CATALOG:\n      {\n        // надо создать новый счётчик\n        // редьюсер ВСЕГДА должен возвращаеть новый state а не изменять старый!\n        // console.log('action:',action);\n        // console.log('state до обработки редьюсером:',state);\n        // let newState={...state};\n        let newState = { ...state,\n          equipCatalog: action.data\n        };\n        // newState.cnt++;\n        // console.log('state после обработки редьюсером:',newState);\n        return newState;\n      }\n      case POP_UP: {\n        let newState = { ...state, activePopupId: action.activePopupId };\n        return newState;\n      }\n    case LEGAL_PRIVATE:\n      {\n        let newState = { ...state,\n          legalPrivate: action.legalPrivate,\n          legalOrPrivatePath: action.path\n        };\n        console.log(\"++\")\n        return newState;\n      }\n    case DRIVERS_LIST:\n      {\n        let newState = { ...state,\n          drivers: action.data\n        };\n        return newState;\n      }\n\n      case PERSONAL_DATA:\n      {\n        let newState = { ...state,\n          user: action.data\n        };\n        return newState;\n      }\n\n\n    case TRANSPORT_LIST: {\n      let newState = {\n        ...state,\n        transports: action.data\n      };\n      return newState;\n    }\n\n    case DRIVER_ADD_EDIT_FLAG: {\n      let newState = { ...state,\n          driverAddOrEdit: action.flag\n        };\n        return newState;\n    }\n\n    case DELETE_DRIVER: {\n      debugger\n      console.log(action.data)\n      let index = state.drivers.findIndex((el) => el.id === action.data);\n\n      const before = state.drivers.slice(0, index);\n      const after = state.drivers.slice(index+1);\n      const newArray = [ ...before, ...after];\n\n      let newState = { ...state,\n          drivers: newArray\n        };\n        return newState;\n    }\n\n    case ADD_DRIVER: {\n      debugger\n      console.log(action.data)\n\n      const newArray = [ ... state.drivers, action.data];\n\n      let newState = { ...state,\n          drivers: newArray\n        };\n        return newState;\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default countersReducer;\n"]},"metadata":{},"sourceType":"module"}