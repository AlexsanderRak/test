{"ast":null,"code":"import _slicedToArray from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alex/ubunta/gt-desk/Desktop-GT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/alex/ubunta/gt-desk/Desktop-GT/src/components/Authorization.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { counterButton_create } from \"../redux/countersAC\";\nimport Logo from './logo/Logo';\nimport eye from '../images/red-eye.png';\nimport GoogleLogin from 'react-google-login';\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\nimport '../css/authorization.css';\n\nvar Authorization =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Authorization, _Component);\n\n  function Authorization() {\n    var _this;\n\n    _classCallCheck(this, Authorization);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Authorization).call(this));\n    _this.state = {\n      typePassword: \"password\",\n      typePassword2: \"password\",\n      pathLink: '' // messegeError:\"Вы ввели не верно Логин или Пароль папробуйте снова или восстановите его!\",\n\n    };\n    return _this;\n  }\n\n  _createClass(Authorization, [{\n    key: \"onClickEye\",\n    value: function onClickEye(e) {\n      var name = e.currentTarget.name;\n\n      if (name === \"eye1\") {\n        var item = this.state.typePassword === \"password\" ? \"text\" : \"password\";\n        this.setState({\n          typePassword: item\n        });\n      } else {\n        var _item = this.state.typePassword2 === \"password\" ? \"text\" : \"password\";\n\n        this.setState({\n          typePassword2: _item\n        });\n      }\n\n      this.props.dispatch(counterButton_create(this.state)); // console.log(this.props)\n    }\n  }, {\n    key: \"onSuccess\",\n    value: function onSuccess() {// console.log(\"Всё Ок\")\n    }\n  }, {\n    key: \"onFailure\",\n    value: function onFailure() {// console.log(\"Сука Лох\")\n    }\n  }, {\n    key: \"nextPage\",\n    value: function nextPage(e) {\n      e.preventDefault();\n      var that = this;\n      var url = 'http://178.159.45.189/api/rest-auth/login/';\n      var formElem = document.getElementById('authorization');\n      var formData = new FormData(formElem);\n      var user = {};\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = formData.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _ref = _step.value;\n\n          var _ref2 = _slicedToArray(_ref, 2);\n\n          var key = _ref2[0];\n          var value = _ref2[1];\n\n          if (value[0] == '+') {\n            user.phone = value;\n            console.log(key);\n            console.log(\"THIS IS TELEFHONE\");\n          } else if (key == 'password') {\n            user.password = value;\n            console.log(key);\n            console.log(\"THIS IS PASSWORD\");\n          } else {\n            user.email = value;\n            console.log(key);\n            console.log(\"THIS IS EMAIL\");\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      console.log(\"USER:   \", user);\n      fetch(url, {\n        method: \"POST\",\n        headers: {\n          // \"Authorization\": 'JWT ' + that.props.abc.token,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n      }).then(function (response) {\n        if (response.status !== 200) {\n          console.log('Looks like there was a problem. Status Code: ' + response.status);\n        }\n\n        return response.json();\n      }).then(function (data) {\n        that.props.dispatch(counterButton_create(data));\n        console.log(\"DATA: \", data);\n        var nextLocation = data.user.user_type == 3 ? '/admin/activeOrders' : '/customer/createOrder/selectdate';\n        that.props.history.push(nextLocation); // Переход на страницы админ/пользователь \n      }); // .catch(function (err) {\n      //     console.log('Fetch Error :-S', err);\n      // });\n    } // incCounter = () => {\n    //     this.props.dispatch( counterButton_create(this.state.typePassword) );\n    // }\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Logo, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        onSubmit: this.nextPage.bind(this),\n        id: \"authorization\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, this.state.messegeError), React.createElement(\"div\", {\n        className: \"globalInput authorization_divInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"phoneEmail\",\n        type: \"text\",\n        className: \"authorization_input\",\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D \\u0438\\u043B\\u0438 E-mail\",\n        title: \"name@mail.ru 375 29 123 45 67\",\n        required: true,\n        pattern: \"(^([\\\\+]?375|(8[\\\\s|\\\\-]?0))[\\\\s|\\\\-]?(29|33|25|44|33|17)[\\\\s|\\\\-]?([0-9]{3}[\\\\s|\\\\-]?[0-9]{2}[\\\\s|\\\\-]?[0-9]{2})$)|(^[a-zA-Z0-9.!#$%&\\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\\\.[a-zA-Z0-9-]+)*$)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"globalInput authorization_divInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"password\",\n        id: \"password2\",\n        type: this.state.typePassword,\n        required: true,\n        className: \"authorization_input\",\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n        title: \"\\u043A\\u043E\\u0434 \\u043D\\u0435\\u043C\\u0435\\u043D\\u0435\\u0435 8-\\u0445 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432\",\n        pattern: \"^.{8,40}\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        name: \"eye1\",\n        src: eye,\n        alt: \"eye\",\n        onClick: this.onClickEye.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }))), React.createElement(Link, {\n        to: {\n          pathname: '/passwordRecovery'\n        },\n        className: \"authorization_textLink\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"\\u0417\\u0430\\u0431\\u044B\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C?\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"authorization_titleInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        name: \"\",\n        value: \"\",\n        id: \"savePass\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"savePass\",\n        className: \"authorization_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"\\u0417\\u0430\\u043F\\u043E\\u043C\\u043D\\u0438\\u0442\\u044C / \\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\")), React.createElement(\"div\", {\n        className: \"divButton authorization_divbutton \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(GoogleLogin, {\n        clientId: \"xxx.apps.googleusercontent.com \",\n        buttonText: \"Login\",\n        onSuccess: this.onSuccess,\n        onFailure: this.onFailure,\n        render: function render(renderProps) {\n          return React.createElement(\"button\", {\n            onClick: renderProps.onClick,\n            className: \"globalButton\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122\n            },\n            __self: this\n          }, \"\\u0412\\u043E\\u0439\\u0442\\u0438 \\u0441 \\u043F\\u043E\\u043C\\u043E\\u0449\\u044C\\u044E Google\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(FacebookLogin, {\n        appId: \"1088597931155576\",\n        autoLoad: true,\n        fields: \"name,email,picture\",\n        callback: this.onFailure,\n        render: function render(renderProps) {\n          return React.createElement(\"button\", {\n            onClick: renderProps.onClick,\n            className: \"globalButton\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, \"\\u0412\\u043E\\u0439\\u0442\\u0438 \\u0441 \\u043F\\u043E\\u043C\\u043E\\u0449\\u044C\\u044E Facebook\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: {\n          pathname: '/'\n        },\n        className: \"globalButton authorization_button margin_30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"\\u041D\\u0430\\u0437\\u0430\\u0434\"), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"globalButton authorization_button\",\n        form: \"authorization\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\")), React.createElement(Link, {\n        to: {\n          pathname: 'privacyPolicy'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"authorization_textLink\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"cross\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), \"\\u041F\\u043E\\u043B\\u0438\\u0442\\u0438\\u043A\\u0430 \\u043A\\u043E\\u043D\\u0444\\u0438\\u0434\\u0435\\u043D\\u0446\\u0438\\u0430\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438 \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), \"\\u0438 \\u0443\\u0441\\u043B\\u043E\\u0432\\u0438\\u044F \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\"))));\n    }\n  }]);\n\n  return Authorization;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  // console.log(state.counter, \"Authorization\")\n  return {\n    // из раздела Redux с именем counter свойство cnt будет доступно\n    // данному компоненту как this.props.cnt\n    cnt: state.store.cnt\n  };\n}; // присоединяем (connect) компонент к хранилищу Redux\n\n\nexport default connect(mapStateToProps)(Authorization);","map":{"version":3,"sources":["/home/alex/ubunta/gt-desk/Desktop-GT/src/components/Authorization.jsx"],"names":["React","Component","Link","connect","counterButton_create","Logo","eye","GoogleLogin","FacebookLogin","Authorization","state","typePassword","typePassword2","pathLink","e","name","currentTarget","item","setState","props","dispatch","preventDefault","that","url","formElem","document","getElementById","formData","FormData","user","entries","key","value","phone","console","log","password","email","fetch","method","headers","body","JSON","stringify","then","response","status","json","data","nextLocation","user_type","history","push","nextPage","bind","messegeError","onClickEye","pathname","onSuccess","onFailure","renderProps","onClick","mapStateToProps","cnt","store"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { counterButton_create } from \"../redux/countersAC\";\nimport Logo from './logo/Logo'\nimport eye from '../images/red-eye.png'\nimport GoogleLogin from 'react-google-login';\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props'\n\nimport '../css/authorization.css'\n\nclass Authorization extends Component {\n    constructor() {\n        super()\n        this.state = {\n            typePassword: \"password\",\n            typePassword2: \"password\",\n            pathLink: ''\n            // messegeError:\"Вы ввели не верно Логин или Пароль папробуйте снова или восстановите его!\",\n        }\n    }\n    onClickEye(e) {\n        let name = e.currentTarget.name;\n        if (name === \"eye1\") {\n            let item = this.state.typePassword === \"password\" ? \"text\" : \"password\";\n            this.setState({ typePassword: item });\n        } else {\n            let item = this.state.typePassword2 === \"password\" ? \"text\" : \"password\";\n            this.setState({ typePassword2: item });\n        }\n        this.props.dispatch(counterButton_create(this.state));\n        // console.log(this.props)\n    }\n    onSuccess() {\n        // console.log(\"Всё Ок\")\n    }\n    onFailure() {\n        // console.log(\"Сука Лох\")\n    }\n    nextPage(e) {\n        e.preventDefault();\n        var that = this\n        var url = 'http://178.159.45.189/api/rest-auth/login/'\n        var formElem = document.getElementById('authorization')\n        var formData = new FormData(formElem)\n        var user = {}\n\n        for (var [key, value] of formData.entries()) {\n            if (value[0] == '+') {\n                user.phone = value\n                console.log(key)\n                console.log(\"THIS IS TELEFHONE\")\n            } else if (key == 'password') {\n                user.password = value\n                console.log(key)\n                console.log(\"THIS IS PASSWORD\")\n            } else {\n                user.email = value\n                console.log(key)\n                console.log(\"THIS IS EMAIL\")\n            }\n        }\n        console.log(\"USER:   \", user)\n\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                // \"Authorization\": 'JWT ' + that.props.abc.token,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(user),\n        }).then(\n            function (response) {\n                if (response.status !== 200) {\n                    console.log('Looks like there was a problem. Status Code: ' +\n                        response.status);\n                }\n                return response.json();\n            })\n            .then(function (data) {\n                that.props.dispatch(counterButton_create(data));\n                console.log(\"DATA: \", data);\n                let nextLocation = data.user.user_type == 3 ? '/admin/activeOrders' : '/customer/createOrder/selectdate';\n                that.props.history.push(nextLocation) // Переход на страницы админ/пользователь \n            })\n        // .catch(function (err) {\n        //     console.log('Fetch Error :-S', err);\n        // });\n    }\n\n    // incCounter = () => {\n    //     this.props.dispatch( counterButton_create(this.state.typePassword) );\n    // }\n\n    render() {\n        return (\n            <div className=\"wrapper\">\n                <Logo />\n                <form onSubmit={this.nextPage.bind(this)} id=\"authorization\" >\n                    <label className=\"\">{this.state.messegeError}</label>\n                    <div className=\"globalInput authorization_divInput\">\n                        <input name=\"phoneEmail\" type=\"text\" className=\"authorization_input\"\n                            placeholder=\"Введите Телефон или E-mail\"\n                            title=\"name@mail.ru 375 29 123 45 67\" required\n                            pattern=\"(^([\\+]?375|(8[\\s|\\-]?0))[\\s|\\-]?(29|33|25|44|33|17)[\\s|\\-]?([0-9]{3}[\\s|\\-]?[0-9]{2}[\\s|\\-]?[0-9]{2})$)|(^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$)\" />\n                    </div>\n                    <div className=\"globalInput authorization_divInput\">\n                        <input name=\"password\" id=\"password2\" type={this.state.typePassword} required className=\"authorization_input\"\n                            placeholder=\"Введите пароль\"\n                            title=\"код неменее 8-х символов\" pattern=\"^.{8,40}\" />\n                        <img name=\"eye1\" src={eye} alt=\"eye\" onClick={this.onClickEye.bind(this)} />\n                    </div>\n                </form>\n                    <Link to={{ pathname: '/passwordRecovery' }} className=\"authorization_textLink\">Забыли пароль?</Link><br />\n                   <div className=\"authorization_titleInput\"><input type=\"checkbox\" name=\"\" value=\"\" id=\"savePass\" /><label htmlFor=\"savePass\" className=\"authorization_title\">Запомнить / Сохранить пароль</label></div>\n                <div className=\"divButton authorization_divbutton \">\n                    < GoogleLogin\n                        clientId=\"xxx.apps.googleusercontent.com \"\n                        buttonText=\"Login\"\n                        onSuccess={this.onSuccess}\n                        onFailure={this.onFailure}\n                        render={renderProps => { return <button onClick={renderProps.onClick} className=\"globalButton\">Войти с помощью Google</button> }} />\n                    <FacebookLogin\n                        appId=\"1088597931155576\"\n                        autoLoad={true}\n                        fields=\"name,email,picture\"\n                        callback={this.onFailure}\n                        render={renderProps => { return <button onClick={renderProps.onClick} className=\"globalButton\" >Войти с помощью Facebook</button> }}\n                    />\n                </div>\n                <div>\n                    <Link to={{ pathname: '/' }} className=\"globalButton authorization_button margin_30\">Назад</Link>\n                    <button type=\"submit\" className=\"globalButton authorization_button\" form=\"authorization\" >Войти</button>\n                </div>\n                <Link to={{ pathname: 'privacyPolicy' }}>\n                    <div className=\"authorization_textLink\"><span className=\"cross\"><br />Политика конфиденциальности <br />и условия использования</span></div>\n                </Link>\n            </div>\n        )\n    }\n}\nconst mapStateToProps = function (state) {\n    // console.log(state.counter, \"Authorization\")\n    return {\n        // из раздела Redux с именем counter свойство cnt будет доступно\n        // данному компоненту как this.props.cnt\n        cnt: state.store.cnt,\n    };\n};\n\n// присоединяем (connect) компонент к хранилищу Redux\nexport default connect(mapStateToProps)(Authorization);\n"]},"metadata":{},"sourceType":"module"}